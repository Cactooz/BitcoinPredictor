def simulation(start_money, actuals, predictions, fee):
    curr_money = start_money
    curr_btc = 0
    buy_count = 0
    sell_count = 0
    buy_price = 0
    for t in range(len(predictions)-1):
        if actuals[t][0] < predictions[t+1][0] and curr_money > 0:
            curr_btc = fee * (curr_money / actuals[t][0])
            curr_money = 0
            buy_count += 1
            buy_price = actuals[t][0]
        elif actuals[t][0] > predictions[t+1][0] and curr_btc > 0 and actuals[t][0]/buy_price >= 1.02:
            curr_money = fee * (actuals[t][0] * curr_btc)
            curr_btc = 0
            sell_count += 1
    
    if curr_btc > 0:
        curr_money = fee * (actuals[len(actuals)-1][0] * curr_btc)
        sell_count += 1

    print(f"Money: {curr_money} Buy count: {buy_count} Sell count: {sell_count}")
    return curr_money

if __name__ == '__main__':
    actuals2 = [
[27790.22],
[28168.09],
[28177.984],
[28044.14],
[27925.861],
[27947.793],
[28333.049],
[29652.98],
[30235.059],
[30139.053],
[30399.068],
[30485.701],
[30318.498],
[30315.355],
[29445.045],
[30397.55],
[28822.682],
[28245.986],
[27276.91],
[27817.5],
[27591.387],
[27525.342],
[28307.598],
[28422.701],
[29473.785],
[29340.262],
[29248.486],
[29268.807],
[28091.568],
[28680.54],
[29006.309],
[28847.713],
[29534.383],
[28904.625],
[28454.977],
[27694.273],
[27658.773],
[27621.758],
[27000.787],
[26804.992],
[26784.078],
[26930.637],
[27192.691],
[27036.65],
[27398.803],
[26832.209],
[26890.127],
[27129.588],
[26753.828],
[26851.277],
[27225.727],
[26334.818],
[26476.207],
[26719.291],
[26868.354],
[28085.648],
[27745.883],
[27702.35],
[27219.66],
[26819.975],
[27249.588],
[27075.129],
[27119.068],
[25760.096],
[27238.785],
[26345.998],
[26508.215],
[26480.375],
[25851.242],
[25940.168],
[25902.5],
[25918.727],
[25124.678],
[25576.393],
[26327.46],
[26510.676],
[26336.21],
[26851.031],
[28327.488],
[30027.297],
[29912.281],
[30695.47],
[30548.695],
[30480.262],
[30271.129],
[30688.162],
[30086.246],
[30445.352],
[30477.252],
[30590.078],
[30620.77],
[31156.44],
[30777.582],
[30514.168],
[29909.338],
[30342.266],
[30292.541],
[30171.232],
[30414.473],
[30620.953],
[30391.646],
[31476.05],
[30334.07],
[30295.807],
[30249.133],
[30145.889],
[29856.562],
[29913.924],
[29792.018],
[29908.744],
[29771.803],
[30084.54],
[29176.916],
[29227.39],
[29354.973],
[29210.688],
[29319.244],
[29356.918],
[29275.309],
[29230.11],
[29675.734],
[29151.96],
[29178.678],
[29074.092],
[29042.127],
[29041.855],
[29180.578],
[29765.492],
[29561.496],
[29429.592],
[29397.717],
[29415.965],
[29282.914],
[29408.441],
[29170.346],
[28701.78],
[26664.55],
[26049.557],
[26096.203],
[26189.584],
[26124.143],
[26031.658],
[26431.64],
[26162.371],
[26047.668],
[26008.46],
[26089.693],
[26106.15],
[27727.393],
[27297.266],
[25931.473],
[25800.725],
[25868.797],
[25969.566],
[25812.416],
[25779.982],
[25753.236],
[26240.193],
[25905.652],
[25895.68],
[25832.227],
[25162.656],
[25833.342],
[26228.324],
[26539.676],
[26608.693],
[26568.283],
[26534.188],
[26754.281],
[27211.117],
[27132.006],
[26567.635],
[26579.57],
[26579.39],
[26256.826],
[26298.479],
[26217.25],
[26352.715],
[27021.545],
[26911.723],
[26967.918],
[27983.752],
[27530.785],
[27429.979],
[27799.395],
[27415.912],
[27946.596],
[27968.84],
[27935.088],
[27583.678],
[27391.021],
[26873.32],
[26756.799],
[26862.375],
[26861.707],
[27159.652],
[28519.465],
[28415.748],
[28328.342],
[28719.807],
[29682.95],
[29918.412],
[29993.896],
[33086.23],
[33901.527],
[34502.82],
[34156.652],
[33909.8],
[34089.574],
[34538.484],
[34502.363],
[34667.777],
[35437.254],
[34938.242],
[34732.33],
[35082.195],
[35049.355],
[35037.37],
[35443.562],
[35655.273],
[36693.125],
[37313.973],
[37138.05],
[37054.52],
[36502.36],
[35537.64],
[37880.586],
[36154.77],
[36596.684],
[36585.703],
[37386.547],
[37476.957],
[35813.812],
[37432.34],
[37289.62],
[37720.28],
[37796.793],
[37479.125],
[37254.168],
[37831.086],
[37858.492],
[37712.746],
[38688.746],
[39476.332],
[39978.39],
[41980.1],
[44080.65],
[43746.445],
[43292.664],
[44166.6],
[43725.984],
[43779.7],
[41243.836],
[41450.223],
[42890.742],
[43023.973],
[41929.758],
[42240.12],
[41364.668],
[42623.54],
[42270.527],
[43652.25],
[43869.152],
[43997.902],
[43739.543],
[43016.117],
[43613.145],
[42520.402],
[43442.855],
[42627.855],
[42099.402],
[42156.9],
[42265.184],
[44167.33],
[44957.97],
[42848.176],
[44179.92],
[44162.69],
[43989.195],
[43943.098],
[46970.504],
[46139.73],
[46627.777],
[46368.586],
[42853.168],
[42842.383],
[41796.27],
[42511.97],
[43154.945],
[42742.652],
[41262.06],
[41618.406],
[41665.586],
[41545.785],
[39507.37],
[39845.55],
[40077.074],
[39933.81],
[41816.87],
[42120.055],
[42035.594],
[43288.246],
[42952.61],
[42582.605],
[43075.773],
[43185.86],
[42992.25],
[42583.582],
[42658.664],
[43084.67],
[44318.223],
[45301.566],
[47147.2],
[47771.277],
[48293.918],
[49958.227],
[49742.44],
[51826.7],
[51938.56],
[52160.203],
[51662.996],
[52122.543],
[51779.145],
[52284.875],
[51839.18],
[51304.973],
[50731.95],
[51571.1],
[51733.24],
[54522.402],
[57085.375],
[62504.79],
[61198.387],
[62440.63],
[62029.844],
[63167.37],
[68330.414],
[63801.195],
[66106.805],
[66925.484],
[68300.09],
[68498.88],
[69019.79],
[72123.91],
[71481.29],
[73083.5],
[71396.586],
[69403.77],
[65315.117],
[68390.625],
[67548.59],
[61912.773],
[67913.67],
[65491.39],
[63778.758],
[64062.207],
[67234.17],
[69958.81],
[69987.836],
[69455.336],
[70744.95],
[69892.83],
[69645.305],
[71333.65],
[69702.14],
]
    predictions2 = [
[28178.389],
[27585.326],
[27808.83],
[27900.096],
[27665.418],
[27796.77],
[27947.658],
[28196.936],
[28640.52],
[29768.484],
[29707.75],
[29964.367],
[30359.424],
[30254.475],
[30301.16],
[29473.129],
[29652.6],
[29344.182],
[28471.043],
[27887.777],
[27597.93],
[27727.105],
[27380.104],
[27731.645],
[28537.625],
[28907.047],
[29193.457],
[29325.324],
[29626.664],
[28261.074],
[28342.46],
[28461.523],
[28739.613],
[29109.781],
[29221.293],
[29025.5],
[27965.791],
[27752.709],
[27636.373],
[27260.148],
[26779.926],
[27083.98],
[27187.926],
[27128.043],
[27166.605],
[27091.832],
[27073.848],
[27062.834],
[27185.754],
[27275.549],
[26719.59],
[27194.63],
[26703.373],
[26402.215],
[26761.994],
[26903.055],
[27659.668],
[27806.111],
[27810.783],
[27427.07],
[27064.584],
[27030.973],
[27214.379],
[27362.254],
[26347.701],
[26612.484],
[26819.074],
[26614.17],
[26806.22],
[26534.797],
[26420.115],
[25974.178],
[26291.434],
[25705.098],
[25608.58],
[26118.836],
[26696.027],
[26899.047],
[26671.123],
[27733.023],
[29433.59],
[29918.906],
[30752.5],
[30746.385],
[30945.705],
[30074.014],
[30676.926],
[30207.457],
[30409.803],
[30606.805],
[30562.943],
[30799.057],
[30772.55],
[31147.268],
[30687.955],
[30966.902],
[30359.746],
[30565.543],
[30646.145],
[30440.16],
[30850.328],
[30852.812],
[31391.996],
[31223.75],
[30807.668],
[30775.398],
[30017.895],
[30269.611],
[30210.084],
[30245.123],
[30280.281],
[30309.984],
[30546.916],
[29613.207],
[29628.938],
[29689.188],
[29615.895],
[29715.012],
[29777.453],
[29808.014],
[29352.252],
[29499.441],
[29745.076],
[29451.764],
[29530.63],
[29492.723],
[29590.47],
[29031.6],
[30087.031],
[30034.453],
[29961.52],
[29947.396],
[29979.549],
[29964.383],
[29474.807],
[29740.182],
[29401.15],
[28007.76],
[27138.797],
[26721.709],
[26754.05],
[26263.07],
[26382.725],
[26730.594],
[26713.908],
[26672.346],
[26722.195],
[26782.72],
[26279.727],
[27512.158],
[27607.68],
[27191.373],
[26464.604],
[26489.129],
[26523.105],
[25972.291],
[26200.322],
[26116.244],
[26458.93],
[26616.35],
[26560.154],
[26618.955],
[25796.59],
[26427.885],
[26459.895],
[26936.545],
[27111.262],
[27303.867],
[27324.783],
[27167.076],
[27607.338],
[27586.309],
[27398.65],
[27301.42],
[27289.688],
[27241.03],
[26498.78],
[26857.041],
[26929.674],
[27292.852],
[27555.842],
[27680.252],
[28162.898],
[28073.95],
[27987.531],
[28102.574],
[28324.469],
[28388.557],
[28643.03],
[28730.844],
[27932.309],
[28273.867],
[27753.996],
[27530.299],
[27711.668],
[27672.621],
[27907.492],
[28607.56],
[28938.773],
[29207.785],
[29321.957],
[30173.53],
[30625.8],
[30837.537],
[32659.56],
[34934.605],
[35131.152],
[35398.316],
[34890.438],
[34990.65],
[35063.57],
[34557.465],
[35299.973],
[35748.55],
[36321.16],
[35773.52],
[36155.633],
[36143.133],
[35331.06],
[36557.082],
[36812.543],
[38439.438],
[38433.016],
[38738.297],
[38517.9],
[37434.03],
[37275.035],
[38088.516],
[38304.35],
[37911.305],
[38136.332],
[38486.254],
[38032.52],
[38394.223],
[38292.25],
[38910.375],
[39578.07],
[39345.5],
[39127.055],
[37736.99],
[39288.02],
[39477.41],
[39511.742],
[40024.29],
[40911.047],
[41479.6],
[42251.797],
[45320.086],
[46142.797],
[45702.59],
[45973.883],
[45617.19],
[45133.04],
[42364.91],
[42762.758],
[43736.],
[44648.715],
[44628.16],
[44329.56],
[43721.05],
[42220.336],
[44718.605],
[45240.13],
[46121.82],
[46218.203],
[45712.04],
[45095.79],
[43599.832],
[44432.66],
[44669.73],
[45119.848],
[44325.203],
[43934.188],
[44112.434],
[45313.484],
[47090.656],
[44412.527],
[45022.91],
[44692.883],
[44931.996],
[45332.84],
[46690.816],
[47830.39],
[46677.047],
[47929.9],
[44484.812],
[43037.32],
[42688.26],
[42936.246],
[43351.793],
[42993.863],
[42050.305],
[41428.19],
[41828.56],
[42054.684],
[40987.375],
[39599.68],
[40013.02],
[39688.21],
[41078.83],
[42029.848],
[42869.875],
[42984.57],
[43705.23],
[42794.434],
[42134.25],
[42754.645],
[43020.098],
[43020.26],
[43071.152],
[43157.895],
[43605.13],
[45087.016],
[47105.766],
[47980.01],
[48992.91],
[49906.383],
[50040.34],
[51008.703],
[52379.367],
[52254.863],
[51894.062],
[52565.984],
[52813.906],
[52481.586],
[51669.277],
[51566.605],
[51119.934],
[51495.816],
[52456.71],
[54122.246],
[57618.613],
[61833.195],
[62791.242],
[62576.22],
[63023.754],
[63346.336],
[67165.266],
[65044.727],
[65964.336],
[67566.81],
[69045.94],
[69095.164],
[70593.53],
[71101.5],
[71695.37],
[73031.97],
[71431.99],
[69794.73],
[68161.63],
[67535.586],
[68760.65],
[65170.13],
[64774.426],
[67067.336],
[64676.36],
[65277.727],
[66754.88],
[70233.8],
[70969.95],
[70141.914],
[70509.18],
[70253.6],
[70476.75],
[71334.52],
]
    
    print(simulation(1000, actuals2, predictions2, 0.98))
    